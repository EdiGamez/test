@Before
public void setUp() {
    MockitoAnnotations.openMocks(this);

    // Usamos el constructor con JdbcTemplate directamente
    repository = new TaylorReportLoadDbRepository(jdbcTemplate) {
        @Override
        protected void initSession() {
            // no ejecutar sentencias reales
        }

        @Override
        protected ARRAY buildArray(List<RFRLoadTaylorObj> batchList, OracleConnection conn) {
            return mockArray;
        }
    };

    // Mock de update para evitar el error "No statement specified"
    when(jdbcTemplate.update(anyString(), any(), any(), any())).thenReturn(1);
}
