   protected boolean isMatchingProxy(ProxyObject proxyObj, PointCrv p) {
        return ((proxyObj.getProxy().getAxisX() == null && p.getAxisX() == null) ||
                (proxyObj.getProxy().getAxisX() != null && proxyObj.getProxy().getAxisX().equalsIgnoreCase(p.getAxisX()))) &&
                ((proxyObj.getProxy().getDays() == null && p.getDays() == null) ||
                        (proxyObj.getProxy().getDays() != null && proxyObj.getProxy().getDays().equalsIgnoreCase(valueOrNA(p.getDays())))) &&
                ((proxyObj.getProxy().getStrike() == null && p.getStrike() == null) ||
                        (proxyObj.getProxy().getStrike().equalsIgnoreCase(p.getStrike())));
    }
    protected boolean isMatchingProxy(ProxyObject proxyObj, ZeroCouponPoints p) {
        return ((proxyObj.getProxy().getAxisX() == null && p.getAxisX() == null) ||
                (proxyObj.getProxy().getAxisX() != null && proxyObj.getProxy().getAxisX().equalsIgnoreCase(p.getAxisX()))) &&
                ((proxyObj.getProxy().getDays() == null && p.getDays() == null) ||
                        (proxyObj.getProxy().getDays() != null && proxyObj.getProxy().getDays().equalsIgnoreCase(valueOrNA(p.getDays()))));
    }
    public Optional<ProxyObject> pointHasProxy(PointCrv p, Factor factor) {

        try {
            List<ProxyObject> proxies = factor.getRfInfo().getProxies();
            return proxies.stream().filter(proxyObject ->
                            ((proxyObject.getProxy().getAxisX() == null && p.getAxisX() == null) ||
                                    (isNonNull(proxyObject.getProxy().getAxisX()) && proxyObject.getProxy().getAxisX().equalsIgnoreCase(p.getAxisX())))
                            && ((proxyObject.getProxy().getDays() == null && p.getDays() == null) ||
                                    (isNonNull(proxyObject.getProxy().getDays()) && proxyObject.getProxy().getDays().equalsIgnoreCase(valueOrNull(p.getDays()))))
                            && (proxyObject.getProxy().getStrike() == null && p.getStrike() == null) ||
                                    (isNonNull(proxyObject.getProxy().getStrike()) && proxyObject.getProxy().getStrike().equalsIgnoreCase(p.getStrike()))
            ).findFirst();
        } catch (Exception e) {
            log.error("Error in pointHasProxy", e);
            return Optional.empty();
        }
    }
    protected boolean shouldProcessWithProxy(PointCrv point, Factor factor) {
        return pointHasProxy(point, factor).isPresent() && hasAnyProxy(factor);
    }
    protected boolean shouldProcessWithProxy(InnerPointObject point, Factor factor) {
        return pointHasProxy(point, factor).isPresent() && hasAnyProxy(factor);
    }
   boolean isNonNull(Object obj) {
        return obj != null;
    }
